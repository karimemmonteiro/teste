generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id             Int    @id @default(autoincrement())
  cpf            String @unique
  senha          String
  token          String
  refreshToken   String
  idSistema      Int
  statusResponse Int
  textResponse   String
}

//Tabelas de cadastro atendimento

model Cliente {
  id             Int      @id @default(autoincrement())
  cpf            String   @unique
  nome           String
  dataNascimento String
  produtorRural  Boolean
  estudante      Boolean
  lgpd           Boolean?
  status         String
  //dadosPj

  // dados atendimento
  atendente             String
  tempoAtendimento      String
  unidadeOrganizacional String
  tema                  String
  projetoAcao           String
  tipoAtendimento       String
  canalAtendimento      String
  descricao             String
  pendencias            String
  Pfpj                  Pfpj[]
  telefones             Telefone[]
  emails                Email[]
  enderecos             Endereco[]
}

model Pfpj {
  id                     Int     @id @default(autoincrement())
  cliente                Cliente @relation(fields: [clienteId], references: [id])
  clienteId              Int
  razaoSocial            String
  cnpj                   String
  nomeFantasia           String
  dataCriacaoRelatorio   String
  descricaoStatusReceita String
  descPorte              String
  quantidadeFuncionarios Int
  descNaturezaJuridica   String
  atividade              String
}

model Telefone {
  id               Int     @id @default(autoincrement())
  cliente          Cliente @relation(fields: [clienteId], references: [id])
  clienteId        Int
  descComunic      String
  numero           String
  autorizaMensagem Int
  recebeContato    Int
  principal        Int
  recebeSMS        Int
}

model Email {
  id               Int     @id @default(autoincrement())
  cliente          Cliente @relation(fields: [clienteId], references: [id])
  clienteId        Int
  descComunic      String
  numero           String
  autorizaMensagem Int
  recebeContato    Int
  principal        Int
  recebeSMS        Int
}

model Endereco {
  id                      Int      @id @default(autoincrement())
  cliente                 Cliente  @relation(fields: [clienteId], references: [id])
  clienteId               Int
  cep                     Int?
  descBairro              String?
  descEndereco            String
  numero                  String
  descEst                 String?
  descCid                 String?
  autorizaCorrespondencia Boolean?
  complemento             String?
  principal               Int
}
